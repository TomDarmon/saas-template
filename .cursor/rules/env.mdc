---
description: Environment variables policy (validation and usage)
globs:
  - src/env.js
  - next.config.js
  - drizzle.config.ts
alwaysApply: false
---

- Single source: import `env` from `~/env`; do not read `process.env` directly in app code.
- Validation: add new vars to `createEnv` with correct Zod schema; prefix client vars with `NEXT_PUBLIC_`.
- Usage: server code uses `env.*`; client code only uses `env.NEXT_PUBLIC_*`.
- URLs: keep `BETTER_AUTH_URL` and `NEXT_PUBLIC_BETTER_AUTH_URL` aligned.

@src/env.js

